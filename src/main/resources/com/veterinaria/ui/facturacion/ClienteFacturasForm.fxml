<?xml version="1.0" encoding="UTF-8"?>

<?import io.github.palexdev.materialfx.controls.MFXButton?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane prefHeight="500.0" prefWidth="600.0"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.veterinaria.ui.facturacion.ClienteFacturasControlador"
            stylesheets="@../../../../css/app_theme.css"
            styleClass="root">
    <padding>
        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
    </padding>

    <top>
        <VBox styleClass="card" style="-fx-padding: 16;">
            <children>
                <Label text="Historial de Facturación" styleClass="title" />
                <Label fx:id="infoClienteLabel" text="Cliente: Cargando..." />
            </children>
        </VBox>
    </top>

    <center>
        <VBox spacing="10.0" styleClass="card" style="-fx-padding: 16; -fx-margin-top: 10;">
            <children>
                <TableView fx:id="tablaFacturas" prefHeight="350.0" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colIdFactura" prefWidth="50.0" text="ID" />
                        <TableColumn fx:id="colFecha" prefWidth="150.0" text="Fecha Emisión" />
                        <TableColumn fx:id="colTotal" prefWidth="100.0" text="Total" />
                        <TableColumn fx:id="colEstado" prefWidth="120.0" text="Estado" />
                    </columns>
                </TableView>

                <HBox alignment="CENTER_RIGHT" spacing="10.0">
                    <MFXButton fx:id="refrescarButton" text="Refrescar"
                               onAction="#cargarFacturas" styleClass="button-ghost" />
                    <MFXButton fx:id="pdfButton" text="Descargar PDF"
                               onAction="#guardarPdfFactura" styleClass="button-ghost"
                               disable="true"> <graphic>
                        <FontIcon iconLiteral="fas-file-pdf" iconSize="14"/>
                    </graphic>
                    </MFXButton>
                    <MFXButton fx:id="pagarButton" text="Pagar Factura Seleccionada"
                               onAction="#abrirDialogoPago" styleClass="button-primary"
                               disable="true"> <graphic>
                        <FontIcon iconLiteral="fas-dollar-sign" iconSize="14"/>
                    </graphic>
                    </MFXButton>
                </HBox>
            </children>
        </VBox>
    </center>
</BorderPane>